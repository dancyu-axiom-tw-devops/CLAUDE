# 優化後的 JVM 配置 - Exchange Service
# 修改日期: 2025-12-22
# 修改原因: 解決 OOM 問題，優化 GC 性能
#
# 主要改動:
# 1. Xms 從 256m 提升到 3072m (減少 GC 頻率)
# 2. 使用 G1GC 替代默認 Parallel GC (降低暫停時間)
# 3. 添加 OOM 時自動 heap dump (便於問題分析)
# 4. 添加 GC 日誌 (便於監控)

ARGS1=-Xms3072m -Xmx4096m -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=512m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ParallelGCThreads=4 -XX:ConcGCThreads=2 -XX:InitiatingHeapOccupancyPercent=45 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/forex/log/exchange-service/ -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/forex/log/exchange-service/gc.log -XX:+UseContainerSupport

SPRING_PROFILES_ACTIVE=forex
SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=http://nacos-svc:8848
SPRING_CLOUD_NACOS_CONFIG_USERNAME=forex
SPRING_CLOUD_NACOS_CONFIG_PASSWORD=K6QrRZ4k
ENABLE_DEBUGGER_ARGS=
ARGS2=-Dencrypt.file=/forex/encrypt/libveryday.so
