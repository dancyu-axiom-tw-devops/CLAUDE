## 基本設定
KAFKA_KRAFT_CLUSTER_ID=forex
KAFKA_HEAP_OPTS=-Xmx3072m -Xms3072m -XX:MaxDirectMemorySize=1536m -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15
KAFKA_CFG_PROCESS_ROLES=controller,broker
KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka-0.kafka-svc.forex-stg.svc.cluster.local:9093
KAFKA_CFG_LOG_DIRS=/kafka
## Listener 設定
KAFKA_CFG_LISTENERS=PLAINTEXT://:9094,CONTROLLER://:9093,EXTERNAL://:9092
KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER
KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT
## 開啟帳密認證 (SASL_PLAINTEXT)
KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,EXTERNAL:SASL_PLAINTEXT
KAFKA_CFG_SASL_ENABLED_MECHANISMS=PLAIN
KAFKA_CFG_SASL_MECHANISM_INTER_BROKER_PROTOCOL=PLAIN
## 使用者帳密設定
KAFKA_CLIENT_USERS=forex,forex_admin
KAFKA_CLIENT_PASSWORDS=PASqVtjLhPVdod4,EEx2ocNDVUPyNOI
#KAFKA_CFG_SUPER_USERS=User:forex_admin;User:forex
## ACL 設定（允許所有存取）
#KAFKA_CFG_AUTHORIZER_CLASS_NAME=org.apache.kafka.metadata.authorizer.StandardAuthorizer
#KAFKA_CFG_ALLOW_EVERYONE_IF_NO_ACL_FOUND=true
## 其他 Kafka 調校參數
KAFKA_CFG_MESSAGE_MAX_BYTES=10485760
KAFKA_SOCKET_RECEIVE_BUFFER_BYTES=16777216
KAFKA_SOCKET_REQUEST_MAX_BYTES=104857600
KAFKA_CFG_REPLICA_FETCH_MAX_BYTES=104857600
KAFKA_CFG_NUM_NETWORK_THREADS=5
KAFKA_CFG_NUM_IO_THREADS=8
KAFKA_CFG_LOG_FLUSH_INTERVAL_MESSAGES=10000
KAFKA_CFG_LOG_SEGMENT_BYTES=1073741824
KAFKA_CFG_LOG_RETENTION_HOURS=168
KAFKA_CFG_LOG_RETENTION_BYTES=1073741824
KAFKA_CFG_CONSUMER_FETCH_MAX_BYTES=10485760
KAFKA_CFG_FETCH_MAX_WAIT_MS=500
KAFKA_CFG_FETCH_MIN_BYTES=1
KAFKA_CFG_MAX_POLL_RECORDS=500
KAFKA_CFG_SESSION_TIMEOUT_MS=30000
KAFKA_CFG_REPLICA_FETCH_WAIT_MAX_MS=500
KAFKA_CFG_REPLICA_FETCH_MIN_BYTES=1
KAFKA_OPTS=-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf
JMX_PORT=5555